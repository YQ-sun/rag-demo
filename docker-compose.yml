
services:
  rag-api:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    volumes:
      - ./data:/app/data
    environment:
      - OPENAI_API_KEY=${API_KEY}
    # 可选：限制 CPU/内存，更稳定
    # deploy:
    #   resources:
    #     limits:
    #       cpus: "1.0"
    #       memory: "1G"
